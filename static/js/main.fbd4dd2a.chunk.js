(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{125:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(15),c=t.n(r),i=(t(99),t(29)),o=t(174),s=t(82),u=t(9),d=t(5),l=function(e){var n=e.routes,t=Object(u.j)(n);return Object(d.jsx)(a.Suspense,{fallback:"loading",children:t})},j=t(83),b=t(84),h=function(e,n){var t=Object(a.useState)(e),r=Object(b.a)(t,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){if(e.length){var t=setTimeout((function(){i(e)}),n);return function(){clearTimeout(t)}}}),[e]),c},O=t(166),p=t(172),f=t(36),x=t(165),v=t(170),m=t(173),g=t(160),y=t(171),w=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm, dd MMMM";return Object(y.a)(e,n)},k=function(e){return(null===e||void 0===e?void 0:e.toString().replace(/\.\d*$/,""))||""},C="https://api.openweathermap.org/data/2.5",F="3238ccb17a8a11abd9f0a08c8f575a8f",I="metric",L=function(e){var n=e.iconId,t=e.main,a=e.styles;return Object(d.jsx)("img",{src:"".concat("https://openweathermap.org/img/wn","/").concat(n,"@2x.png"),alt:t,className:a})},q=Object(g.a)({img:{width:32,height:32},link:{width:"100%",textDecoration:"none",color:"black"}}),D=function(e){var n=e.name,t=e.noOptionsText,r=e.options,c=e.label,o=e.isLoading,s=e.value,u=e.onChange,l=q(),j=Object(a.useMemo)((function(){return null===r||void 0===r?void 0:r.map((function(e){var n=e.name,t=e.sys.country;return"".concat(n,", ").concat(t)}))}),[r]);return Object(d.jsx)(m.a,{loading:o,disableClearable:!0,clearOnBlur:!0,loadingText:"Loading...",noOptionsText:t,options:j||[],renderOption:function(e){var n=null===r||void 0===r?void 0:r.find((function(n){var t=n.name,a=n.sys.country;return"".concat(t,", ").concat(a)===e})),t=n.id,a=n.weather,c=n.main,o=(c=void 0===c?{}:c).feels_like;return Object(d.jsx)(i.b,{to:"".concat(t),className:l.link,children:Object(d.jsxs)(x.a,{container:!0,alignItems:"center",children:[Object(d.jsx)(x.a,{item:!0,xs:4,children:Object(d.jsx)(O.a,{variant:"body1",children:e})}),Object(d.jsx)(x.a,{item:!0,xs:4,children:Object(d.jsxs)(O.a,{variant:"body1",children:["Feels:\xa0",k(o),"\xa0\xb0C"]})}),Object(d.jsx)(x.a,{item:!0,xs:4,children:Object(d.jsx)(L,{main:a[0].main,iconId:a[0].icon,styles:l.img})})]})})},renderInput:function(e){return Object(d.jsx)(v.a,Object(f.a)(Object(f.a)({},e),{},{name:n,value:s,onChange:u,label:c,variant:"outlined"}))}})},N=function(e){var n=e.isLoading,t=e.weatherList,a=e.values.search,r=e.onChange;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.a,{variant:"h2",children:"Weather Forecast"}),Object(d.jsx)(p.a,{my:3,children:Object(d.jsx)(D,{name:"search",label:"Write full name of your city",noOptionsText:"No cities =(",options:null===t||void 0===t?void 0:t.list,isLoading:n,value:a,onChange:r})})]})},T=t(41),B=t.n(T),M=t(50),S=t(175),E=t(81),H=t.n(E).a.create(),W=function(e){return["weatherFind",e]},A=function(){var e=Object(M.a)(B.a.mark((function e(n){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("".concat(C,"/find"),{params:{q:n.query,units:I,appid:F}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e,n,t=Object(j.a)({initialValues:{search:""},onSubmit:function(){return Promise.resolve()}}),a=t.values,r=t.handleChange,c=h(a.search,400),i=(e={query:c},n={enabled:!!c},Object(S.a)(Object(f.a)({queryKey:W(e),queryFn:function(){return A(e)}},n||{}))),o=i.data,s=i.isLoading;return Object(d.jsx)(N,{isLoading:s,weatherList:o,values:a,onChange:r})},J=function(){return Object(d.jsx)(G,{})},K=t(169),P=function(e){return["weatherOne",e]},R=function(){var e=Object(M.a)(B.a.mark((function e(n){var t,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("".concat(C,"/weather"),{params:{id:n.id,units:I,appid:F}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=t(167),$=t(168),_=Object(g.a)((function(e){return{img:{width:80,height:80,paddingLeft:e.spacing(3)}}})),z=function(e){var n=e.oneDayForecast,t=(n=void 0===n?{}:n).name,a=n.sys,r=(a=void 0===a?{}:a).country,c=void 0===r?"":r,i=n.dt,o=n.weather,s=n.main,u=(s=void 0===s?{}:s).temp,l=void 0===u?void 0:u,j=e.onGoBack,b=_();return Object(d.jsxs)(p.a,{display:"flex",children:[Object(d.jsxs)(p.a,{children:[Object(d.jsx)(O.a,{variant:"h3",children:"".concat(t,", ").concat(c)}),Object(d.jsx)(O.a,{variant:"subtitle1",color:"primary",children:w(new Date(1e3*i))}),Object(d.jsxs)(p.a,{display:"flex",alignItems:"center",pt:4,pb:3,children:[Object(d.jsxs)(O.a,{variant:"h2",children:[k(l),"\xa0\xb0C"]}),Object(d.jsx)(L,{main:null===o||void 0===o?void 0:o[0].main,iconId:null===o||void 0===o?void 0:o[0].icon,styles:b.img})]}),Object(d.jsx)(V.a,{variant:"contained",color:"primary",onClick:j,children:"Back to search"})]}),Object(d.jsx)($.a,{orientation:"vertical"})]})},Q=function(e){var n,t,a=e.cityId,r=Object(u.g)(),c=(n={id:a},t={enabled:!!a},Object(S.a)(Object(f.a)({queryKey:P(n),queryFn:function(){return R(n)}},t||{}))),i=c.data;return c.isLoading?Object(d.jsx)(K.a,{}):Object(d.jsx)(z,{oneDayForecast:i,onGoBack:function(){r("/".concat(ne))}})},U=function(){var e=Object(u.h)().cityId;return Object(d.jsx)(Q,{cityId:Number(e)})},X=t(163),Y=Object(g.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(134.18deg, #CDF0FF 9.2%, rgba(186, 223, 244, 0.98991) 21.69%, rgba(56, 102, 169, 0.92) 63.84%, #2E5DA4 83.89%, #2E5DA4 91.59%)"},paper:{padding:e.spacing(6),boxShadow:"0px 0px 30px rgba(13, 21, 63, 0.25)",borderRadius:16}}})),Z=function(e){var n=e.children,t=Y();return Object(d.jsx)("div",{className:t.root,children:Object(d.jsx)(X.a,{className:t.paper,children:n})})},ee=function(){return Object(d.jsx)(Z,{children:Object(d.jsx)(u.b,{})})},ne="weather",te=[{path:"/",element:Object(d.jsx)(u.a,{to:ne})},{path:"".concat(ne,"/*"),element:Object(d.jsx)(ee,{}),children:[{path:"/",element:Object(d.jsx)(J,{})},{path:":cityId",element:Object(d.jsx)(U,{})}]}],ae=new o.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),re=function(){return Object(d.jsx)(i.a,{children:Object(d.jsx)(s.a,{client:ae,children:Object(d.jsx)(l,{routes:te})})})};c.a.render(Object(d.jsx)(re,{}),document.getElementById("root"))},99:function(e,n,t){}},[[125,1,2]]]);
//# sourceMappingURL=main.fbd4dd2a.chunk.js.map