(this.webpackJsonpforecast=this.webpackJsonpforecast||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),i=(n(99),n(29)),o=n(174),s=n(82),u=n(9),l=n(5);function j(e){var t=e.routes,n=Object(u.j)(t);return Object(l.jsx)(a.Suspense,{fallback:"loading",children:n})}var d=n(83),b=n(84),h=function(e,t){var n=Object(a.useState)(e),r=Object(b.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){if(e.length){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}}),[e]),c},O=n(166),p=n(172),f=n(36),x=n(165),m=n(170),v=n(173),g=n(160),y=n(171),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HH:mm, dd MMMM";return Object(y.a)(e,t)},k=function(e){return e.toString().replace(/\.\d*$/,"")},C="https://api.openweathermap.org/data/2.5",F="3238ccb17a8a11abd9f0a08c8f575a8f",I="metric",L=function(e){var t=e.iconId,n=e.main,a=e.styles;return Object(l.jsx)("img",{src:"".concat("https://openweathermap.org/img/wn","/").concat(t,"@2x.png"),alt:n,className:a})},q=Object(g.a)({img:{width:32,height:32},link:{width:"100%",textDecoration:"none",color:"black"}}),D=function(e){var t=e.name,n=e.noOptionsText,r=e.options,c=e.label,o=e.isLoading,s=e.value,u=e.onChange,j=q(),d=Object(a.useMemo)((function(){return null===r||void 0===r?void 0:r.map((function(e){var t=e.name,n=e.sys.country;return"".concat(t,", ").concat(n)}))}),[r]);return Object(l.jsx)(v.a,{loading:o,disableClearable:!0,clearOnBlur:!0,loadingText:"Loading...",noOptionsText:n,options:d||[],renderOption:function(e){var t=null===r||void 0===r?void 0:r.find((function(t){var n=t.name,a=t.sys.country;return"".concat(n,", ").concat(a)===e})),n=t.id,a=t.weather,c=t.main,o=(c=void 0===c?{}:c).feels_like;return Object(l.jsx)(i.b,{to:"".concat(n),className:j.link,children:Object(l.jsxs)(x.a,{container:!0,alignItems:"center",children:[Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(O.a,{variant:"body1",children:e})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsxs)(O.a,{variant:"body1",children:["Feels:\xa0",k(o),"\xa0\xb0C"]})}),Object(l.jsx)(x.a,{item:!0,xs:4,children:Object(l.jsx)(L,{main:a[0].main,iconId:a[0].icon,styles:j.img})})]})})},renderInput:function(e){return Object(l.jsx)(m.a,Object(f.a)(Object(f.a)({},e),{},{name:t,value:s,onChange:u,label:c,variant:"outlined"}))}})},N=function(e){var t=e.isLoading,n=e.weatherList,a=e.values.search,r=e.onChange;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O.a,{variant:"h2",children:"Weather Forecast"}),Object(l.jsx)(p.a,{my:3,children:Object(l.jsx)(D,{name:"search",label:"Write full name of your city",noOptionsText:"No cities =(",options:null===n||void 0===n?void 0:n.list,isLoading:t,value:a,onChange:r})})]})},T=n(41),B=n.n(T),M=n(50),S=n(175),E=n(81),H=n.n(E).a.create(),W=function(e){return["weatherFind",e]},A=function(){var e=Object(M.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("".concat(C,"/find"),{params:{q:t.query,units:I,appid:F}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function G(){var e,t,n=Object(d.a)({initialValues:{search:""},onSubmit:function(){return Promise.resolve()}}),a=n.values,r=n.handleChange,c=h(a.search,400),i=(e={query:c},t={enabled:!!c},Object(S.a)(Object(f.a)({queryKey:W(e),queryFn:function(){return A(e)}},t||{}))),o=i.data,s=i.isLoading;return Object(l.jsx)(N,{isLoading:s,weatherList:o,values:a,onChange:r})}function J(){return Object(l.jsx)(G,{})}var K=n(169),P=function(e){return["weatherOne",e]},R=function(){var e=Object(M.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("".concat(C,"/weather"),{params:{id:t.id,units:I,appid:F}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=n(167),$=n(168),_=Object(g.a)((function(e){return{img:{width:80,height:80,paddingLeft:e.spacing(3)}}}));function z(e){var t=e.oneDayForecast,n=t.name,a=t.sys.country,r=t.dt,c=t.weather,i=t.main.temp,o=e.onGoBack,s=_();return Object(l.jsxs)(p.a,{display:"flex",children:[Object(l.jsxs)(p.a,{children:[Object(l.jsx)(O.a,{variant:"h3",children:"".concat(n,", ").concat(a)}),Object(l.jsx)(O.a,{variant:"subtitle1",color:"primary",children:w(new Date(1e3*r))}),Object(l.jsxs)(p.a,{display:"flex",alignItems:"center",pt:4,pb:3,children:[Object(l.jsxs)(O.a,{variant:"h2",children:[k(i),"\xa0\xb0C"]}),Object(l.jsx)(L,{main:c[0].main,iconId:c[0].icon,styles:s.img})]}),Object(l.jsx)(V.a,{variant:"contained",color:"primary",onClick:o,children:"Back to search"})]}),Object(l.jsx)($.a,{orientation:"vertical"})]})}function Q(e){var t,n,a=e.cityId,r=Object(u.g)(),c=(t={id:a},n={enabled:!!a},Object(S.a)(Object(f.a)({queryKey:P(t),queryFn:function(){return R(t)}},n||{}))),i=c.data;return c.isLoading?Object(l.jsx)(K.a,{}):Object(l.jsx)(z,{oneDayForecast:i,onGoBack:function(){r("/".concat(te))}})}function U(){var e=Object(u.h)().cityId;return Object(l.jsx)(Q,{cityId:Number(e)})}var X=n(163),Y=Object(g.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(134.18deg, #CDF0FF 9.2%, rgba(186, 223, 244, 0.98991) 21.69%, rgba(56, 102, 169, 0.92) 63.84%, #2E5DA4 83.89%, #2E5DA4 91.59%)"},paper:{padding:e.spacing(6),boxShadow:"0px 0px 30px rgba(13, 21, 63, 0.25)",borderRadius:16}}})),Z=function(e){var t=e.children,n=Y();return Object(l.jsx)("div",{className:n.root,children:Object(l.jsx)(X.a,{className:n.paper,children:t})})},ee=function(){return Object(l.jsx)(Z,{children:Object(l.jsx)(u.b,{})})},te="weather",ne=[{path:"/",element:Object(l.jsx)(u.a,{to:te})},{path:"".concat(te,"/*"),element:Object(l.jsx)(ee,{}),children:[{path:"/",element:Object(l.jsx)(J,{})},{path:":cityId",element:Object(l.jsx)(U,{})}]}],ae=new o.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});var re=function(){return Object(l.jsx)(i.a,{children:Object(l.jsx)(s.a,{client:ae,children:Object(l.jsx)(j,{routes:ne})})})};c.a.render(Object(l.jsx)(re,{}),document.getElementById("root"))},99:function(e,t,n){}},[[125,1,2]]]);
//# sourceMappingURL=main.ca27445c.chunk.js.map